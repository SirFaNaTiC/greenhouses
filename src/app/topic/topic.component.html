
<div *ngIf="topic">
    <h2>{{topic.title}}</h2>
    {{topic.content}}
    {{topic.date.toDate()| date:'dd/MM/YYYY hh:mm:ss'}}
    <div *ngIf="auth.currentUser?.uid === topic.author"><button (click)="deleteTopic()">Supprimer</button></div>
</div>

<h2> Commentaire </h2>

<form #commentForm="ngForm" class="comment-form">
    <div class="form-group">
      <label for="content">Contenu :</label>
      <textarea id="content" name="content" [(ngModel)]="content" required #contentRef="ngModel" class="form-control"></textarea>
      <div *ngIf="contentRef.invalid && contentRef.touched" class="error-message">
        Le contenu est requis !
      </div>
    </div>
  
    <button (click)="newComment()" [disabled]="commentForm.invalid" class="submit-button">Cr√©er un commentaire</button>
  </form>

<table class="comment-table">
<thead>
    <tr>
    <th>Contenu</th>
    <th>Date</th>
    </tr>
</thead>
<tbody>
    <tr *ngFor="let comment of comments">
    <td>{{ comment.content }}</td>
    <td>{{ comment.date.toDate() | date: 'dd/MM/YYYY hh:mm:ss' }}</td>
    <td><div *ngIf="auth.currentUser?.uid === comment.author"><button (click)="deleteComment(comment.id)">Supprimer</button></div></td>
    </tr>
</tbody>
</table>